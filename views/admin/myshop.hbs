<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/css/myshop.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <title>{{pageTitle}}</title>

</head>

<body>
    <main>
        <div class="myshop-coverpic" url="{{coverPic}}"></div>
        <div class="container">
            <div class="row">




                <h2>{{shopTitle}}</h2>
                <a href="/admin/edit-shop">edit my shop</a>
                <h2>{{name}}</h2>
                <h2>{{email}} </h2>


                <h1 class="myshop-heading">{{shopName}}</h1>
                <img class="myshop-profilepicture"
                    src="{{#if profilePic}}{{profilePic}}{{else}}https://images.unsplash.com/photo-1511367461989-f85a21fda167?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80{{/if}}">
                <h1 class="myshop-heading">{{shopName}}</h1>
                {{#if hasProducts}}
                {{#each products}}
                <div class="adminproducts-product">
                    <a href="/shop/product/{{id}}">
                        <h2 class="adminproducts-product-title">{{title}}</h2>
                    </a>
                    <p class="adminproducts-product-price">{{price}}</p>
                    <img class="adminproducts-product-image" src={{imageUrl}} />
                    <p class="adminproducts-product-description">{{description}}</p>
                </div>
                {{/each}}
                {{else}}
                <div class="adminproducts-noproducts">
                    <h2>You haven't listed any products yet...</h2>
                    <a href="/admin/add-product">add a product</a>
                </div>
                {{/if}}

                <h2>MY SHOP </h2>
            </div>
        </div>

    </main>
    <script>
        const coverPicElement = document.querySelector(".myshop-coverpic");
        const coverPicUrl = coverPicElement.getAttribute("url");
        if (coverPicUrl) {
            coverPicElement.style.background = `lightblue url("${coverPicUrl}") no-repeat fixed center`;
        } else {
            coverPicElement.style.background = "https://images.unsplash.com/photo-1511367461989-f85a21fda167?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80";
        }
        console.log("coverPicDivValue2: ", coverPicUrl);
    </script>
</body>

</html>